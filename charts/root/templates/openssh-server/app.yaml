apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: openssh-server
  finalizers:
    - resources-finalizer.argocd.argoproj.io
spec:
  destination:
    server: https://kubernetes.default.svc
    namespace: openssh-server
  project: default
  source:
    chart: openssh-server
    repoURL: https://djjudas21.github.io/charts/
    targetRevision: 0.1.9
    helm:
      values: |
        env:
          tz: "Europe/Amsterdam"
          publicKey: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDuaxdZW5oYLM+fx9GL7z6grFlHE0kwQIXcD159vAmVgh4PqyqQT0vh7ulTgm/YFGu0nymbJJwuDnovxYi3G4pObNjGXK1F06mtYd6790FaYgPj3dS6FhWsd9KSTrEsm7uqrSFs6++Z4k38VpviUJnFd+uM4dEM+D2nV55eNnRZisrOYXOKy89Ks5YLFHDF3YMLxOe+c2fMxEfhNosF5QaVe3X2tjm1qPMsu015CIaL6HS/GYMtMTFbWeL8fFM63iaCUU5qSyxAjoY1+seWQHFgcMIgLvfZiOY4Gt0SDsYUriVGc98M7z8YEW3V8Ef33DTqIH6ut8klegarlL6GFVIr bhuism@elza
          sudoAccess: true
          userName: bhuism
        packages:
          - nmap
          - traceroute
          - rsync
          - joe
        persistence:
          home:
            enabled: true
            storageClass: ceph-block
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
    syncOptions:
      - CreateNamespace=true
